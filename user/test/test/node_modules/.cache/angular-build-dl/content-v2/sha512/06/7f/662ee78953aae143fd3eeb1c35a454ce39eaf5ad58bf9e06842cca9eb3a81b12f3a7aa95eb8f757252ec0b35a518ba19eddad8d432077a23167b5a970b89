(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"4+IK":function(e,t,n){"use strict";n.r(t),n.d(t,"AccountPageModule",function(){return h});var i=n("ofXK"),o=n("3Pt+"),a=n("TEn/"),r=n("tyNb"),s=n("mrSG"),l=n("H+bZ"),c=n("2Rin"),d=n("a/9d"),m=n("fXoL"),p=n("jhN1");const g=[{path:"",component:(()=>{class e{constructor(e,t,n,i,o,a){this.api=e,this.util=t,this.camera=n,this.sanitize=i,this.sheetCtrl=o,this.nav=a}ngOnInit(){this.util.presentLoading(),this.api.profileUpdate.subscribe(e=>{this.api.getDataWithToken("profile").subscribe(e=>{e.success&&(this.data=e.data,this.imageUri=e.data.imageUri,this.util.dismissLoading())},e=>{console.log(e),this.util.dismissLoading()})})}ionViewWillEnter(){this.util.presentLoading(),this.api.profileUpdate.subscribe(e=>{this.api.getDataWithToken("profile").subscribe(e=>{e.success&&(this.data=e.data,this.imageUri=e.data.imageUri,this.util.dismissLoading())},e=>{console.log(e),this.util.dismissLoading()})})}selectImage(){return Object(s.a)(this,void 0,void 0,function*(){const e=yield this.sheetCtrl.create({header:"Albums",mode:"ios",cssClass:"image-picker",buttons:[{text:"Gallery",icon:"images-sharp",handler:()=>{this.getGallery()}},{text:"Camera",icon:"camera-sharp",handler:()=>{this.getCamera()}},{text:"Cancel",icon:"close",role:"cancel",handler:()=>{}}]});yield e.present()})}getCamera(){this.camera.getPicture({destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,correctOrientation:!0}).then(e=>{this.imageUri="data:image/jpg;base64,"+e,this.img=e,this.isImgChange=!0;let t={image:this.img};this.util.presentLoading(),this.api.postDataWithToken("profile/picture/update",t).subscribe(e=>Object(s.a)(this,void 0,void 0,function*(){console.log(e),yield this.util.dismissLoading(),this.util.presentToast("Profile Changed!"),this.util.presentToast(e.msg),this.api.profileUpdate.next(!0)}),e=>Object(s.a)(this,void 0,void 0,function*(){yield this.util.dismissLoading(),this.err=e.error.errors||e.error.message,this.util.presentToast(this.err)}))})}getGallery(){this.camera.getPicture({sourceType:this.camera.PictureSourceType.PHOTOLIBRARY,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,correctOrientation:!0}).then(e=>{this.imageUri="data:image/jpg;base64,"+e,this.img=e,this.isImgChange=!0;let t={image:this.img};this.util.presentLoading(),this.api.postDataWithToken("profile/picture/update",t).subscribe(e=>Object(s.a)(this,void 0,void 0,function*(){yield this.util.dismissLoading(),this.util.presentToast("Profile Changed!"),this.util.presentToast(e.msg),this.api.profileUpdate.next(!0)}),e=>Object(s.a)(this,void 0,void 0,function*(){yield this.util.dismissLoading(),this.err=e.error.errors||e.error.message,this.util.presentToast(this.err)}))})}updatePro(){this.api.postDataWithToken("profile/update",{name:this.name}).subscribe(e=>{e.success&&(this.util.presentToast("Profile Updated"),this.api.profileUpdate.next(!0))},e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](l.a),m["\u0275\u0275directiveInject"](c.a),m["\u0275\u0275directiveInject"](d.a),m["\u0275\u0275directiveInject"](p.b),m["\u0275\u0275directiveInject"](a.a),m["\u0275\u0275directiveInject"](a.Q))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-account"]],decls:30,vars:7,consts:[[1,"ion-no-border"],["mode","md"],["slot","end"],["src","../../../assets/image_icon/edit.svg"],["defaultHref","home","icon","chevron-back-outline","text","","mode","md"],[1,"profile_div"],[1,"img_div"],[1,"user_img",3,"src"],["src","../../../assets/image/pro_im.png",1,"back_img",3,"click"],[1,"name"],[1,"email"],[1,"ion-padding"],["mode","md","lines","none"],["slot","start","src","../../../assets/image_icon/ac_ic.svg"],[3,"ngModel","value","ngModelChange"],["slot","start","src","../../../assets/image_icon/email.svg"],["readonly","true",3,"value"],["slot","start","src","../../../assets/image_icon/call.svg"],["expand","full",1,"main_btn","ion-text-capitalize",3,"click"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"ion-header",0),m["\u0275\u0275elementStart"](1,"ion-toolbar",1),m["\u0275\u0275elementStart"](2,"ion-buttons",2),m["\u0275\u0275elementStart"](3,"ion-button"),m["\u0275\u0275element"](4,"ion-icon",3),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"ion-buttons",2),m["\u0275\u0275element"](6,"ion-back-button",4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"ion-title"),m["\u0275\u0275text"](8,"account"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](9,"div",5),m["\u0275\u0275elementStart"](10,"div",6),m["\u0275\u0275element"](11,"img",7),m["\u0275\u0275elementStart"](12,"img",8),m["\u0275\u0275listener"]("click",function(){return t.selectImage()}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](13,"h3",9),m["\u0275\u0275text"](14),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](15,"p",10),m["\u0275\u0275text"](16),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](17,"ion-content",11),m["\u0275\u0275elementStart"](18,"ion-item",12),m["\u0275\u0275element"](19,"ion-icon",13),m["\u0275\u0275elementStart"](20,"ion-input",14),m["\u0275\u0275listener"]("ngModelChange",function(e){return t.name=e}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](21,"ion-item",12),m["\u0275\u0275element"](22,"ion-icon",15),m["\u0275\u0275element"](23,"ion-input",16),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](24,"ion-item",12),m["\u0275\u0275element"](25,"ion-icon",17),m["\u0275\u0275element"](26,"ion-input",16),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](27,"ion-footer",0),m["\u0275\u0275elementStart"](28,"ion-button",18),m["\u0275\u0275listener"]("click",function(){return t.updatePro()}),m["\u0275\u0275text"](29," Update "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](11),m["\u0275\u0275propertyInterpolate"]("src",t.imageUri,m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](null==t.data?null:t.data.name),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](null==t.data?null:t.data.email),m["\u0275\u0275advance"](4),m["\u0275\u0275propertyInterpolate"]("value",null==t.data?null:t.data.name),m["\u0275\u0275property"]("ngModel",t.name),m["\u0275\u0275advance"](3),m["\u0275\u0275propertyInterpolate"]("value",null==t.data?null:t.data.email),m["\u0275\u0275advance"](3),m["\u0275\u0275propertyInterpolate"]("value",null==t.data?null:t.data.phone_no))},directives:[a.p,a.K,a.h,a.g,a.q,a.e,a.f,a.I,a.k,a.s,a.r,a.V,o.e,o.h,a.o],styles:["ion-header[_ngcontent-%COMP%]   .profile_div[_ngcontent-%COMP%]{text-align:center;padding-top:20px}ion-header[_ngcontent-%COMP%]   .profile_div[_ngcontent-%COMP%]   .img_div[_ngcontent-%COMP%]{height:131px;width:131px;position:relative;display:flex;align-items:center;justify-content:center;margin:auto}ion-header[_ngcontent-%COMP%]   .profile_div[_ngcontent-%COMP%]   .img_div[_ngcontent-%COMP%]   .user_img[_ngcontent-%COMP%]{height:106px;width:106px;border-radius:50%}ion-header[_ngcontent-%COMP%]   .profile_div[_ngcontent-%COMP%]   .img_div[_ngcontent-%COMP%]   .back_img[_ngcontent-%COMP%]{position:absolute;left:0;top:0}ion-header[_ngcontent-%COMP%]   .profile_div[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:18px;color:var(--blue);font-family:rubik_md;margin-top:10px;margin-bottom:5px}ion-header[_ngcontent-%COMP%]   .profile_div[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{font-size:15px;color:var(--gray);font-family:rubik_r;margin:0}ion-content[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--inner-padding-end:0;--padding-start:0;margin-bottom:15px}ion-content[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--blue);height:17px;width:17px;margin-right:20px}ion-content[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-size:18px;color:var(--blue);font-family:rubik_md;border-bottom:dotted;border-bottom-width:1px;border-bottom-color:var(--silver)}"]}),e})()}];let u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({imports:[[r.i.forChild(g)],r.i]}),e})(),h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({imports:[[i.b,o.a,a.L,u]]}),e})()}}]);