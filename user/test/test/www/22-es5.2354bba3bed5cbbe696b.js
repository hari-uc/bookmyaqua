!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"99Un":function(t,n,o){"use strict";o.r(n),o.d(n,"HomePageModule",function(){return w});var a=o("cxbk"),s=o("ofXK"),l=o("3Pt+"),r=o("TEn/"),c=o("tyNb"),d=o("h+qT"),u=o("7itd"),g=o("H+bZ"),f=o("2Rin"),m=o("Bfh1"),p=o("mtRb"),h=o("92l+"),y=o("WOgW"),v=o("fXoL"),S=o("pxUr"),O=["placesRef"],C=["search"];function b(e,t){if(1&e){var i=v["\u0275\u0275getCurrentView"]();v["\u0275\u0275elementStart"](0,"div",13),v["\u0275\u0275listener"]("click",function(){v["\u0275\u0275restoreView"](i);var e=t.$implicit;return v["\u0275\u0275nextContext"]().getData(e)}),v["\u0275\u0275element"](1,"img",14),v["\u0275\u0275elementStart"](2,"p",15),v["\u0275\u0275text"](3),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"]()}if(2&e){var n=t.$implicit,o=v["\u0275\u0275nextContext"]();v["\u0275\u0275classProp"]("active",o.select==n.name),v["\u0275\u0275advance"](1),v["\u0275\u0275propertyInterpolate"]("src",null==n?null:n.imageUri,v["\u0275\u0275sanitizeUrl"]),v["\u0275\u0275advance"](2),v["\u0275\u0275textInterpolate"](null==n?null:n.name)}}var _,I,P,T=[{path:"",component:(_=function(){function t(i,n,o,a,s,l,r,c,d,u){var g=this;e(this,t),this.nav=i,this.menu=n,this.util=o,this.api=a,this.nativeGeocoder=s,this.geolocation=l,this.diagnostic=r,this.alertCtrl=c,this.androidPermissions=d,this.locationAccuracy=u,this.Centerlat=22.298922,this.Centerlng=70.802177,this.petrol=1,this.diesel=1,this.gas=1,this.isshow=!1,this.origin={},this.destination={},this.providerArray=[],this.icon="../../../assets/image/sender_ic.png",this.iconUrl="../../../assets/image/sender_ic.png",this.renderOptions={suppressMarkers:!0,draggable:!1},this.styles=[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}],this.select="",this.provider=[],this.geoencoderOptions={useLocale:!0,maxResults:5},this.locationData={},setTimeout(function(){g.diagnostic.isLocationEnabled().then(function(e){0==e&&g.requestToSwitchOnGPS()}).catch(function(e){console.log(e),alert(JSON.stringify(e))})},5e3),this.locationCoords={latitude:"",longitude:"",accuracy:"",timestamp:""},this.menu.enable(!0),setTimeout(function(){g.getLocationCoordinates(),g.util.dismissLoading()},3e3)}return i(t,[{key:"requestToSwitchOnGPS",value:function(){var e=this;this.locationAccuracy.request(this.locationAccuracy.REQUEST_PRIORITY_HIGH_ACCURACY).then(function(t){console.log("ask gps opermission",t),e.getLocationCoordinates()},function(e){return alert(JSON.stringify(e))})}},{key:"gasPump",value:function(){this.isshow=!0,this.isshow&&1==this.gas&&0==this.petrol&&0==this.diesel&&this.nav.navigateForward("pick-detail")}},{key:"getData",value:function(e){this.util.dismissLoading(),this.select=e.name,this.api.select_fuel=this.select;var t=[];this.providerArray.push(e,this.provider),this.provider.forEach(function(i){var n=!1;e.sub_fuel_type.forEach(function(e){i.fuel_type.includes(e.id)&&!n&&(t.push(i),n=!0)})}),0==e.sub_fuel_type.length?this.util.presentToast("No Fuel available! "):(localStorage.setItem("pro_id",e.id),this.util.dismissLoading(),this.nav.navigateForward("pick-detail"))}},{key:"checkGPSPermission",value:function(){var e=this;this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.ACCESS_COARSE_LOCATION).then(function(t){t.hasPermission?e.askToTurnOnGPS():e.requestGPSPermission()},function(e){})}},{key:"requestGPSPermission",value:function(){var e=this;this.locationAccuracy.canRequest().then(function(t){t?console.log("4"):e.androidPermissions.requestPermission(e.androidPermissions.PERMISSION.ACCESS_COARSE_LOCATION).then(function(){e.askToTurnOnGPS()},function(e){alert("requestPermission Error requesting location permissions "+e)})})}},{key:"askToTurnOnGPS",value:function(){var e=this;this.locationAccuracy.request(this.locationAccuracy.REQUEST_PRIORITY_HIGH_ACCURACY).then(function(){e.getLocationCoordinates()},function(e){return alert("Error requesting location permissions "+JSON.stringify(e))})}},{key:"ngOnInit",value:function(){}},{key:"get",value:function(){var e=this;this.util.dismissLoading(),this.getGeoencoder(this.latitude,this.longitude),localStorage.setItem("curentLat",JSON.stringify(this.latitude)),localStorage.setItem("curentLang",JSON.stringify(this.longitude)),localStorage.setItem("proLattt",JSON.stringify(this.latitude)),localStorage.setItem("proLangg",JSON.stringify(this.longitude)),localStorage.setItem("lat",JSON.stringify(this.latitude)),localStorage.setItem("lang",JSON.stringify(this.longitude)),this.api.lat=this.latitude,this.api.long=this.longitude;var t={lat:this.latitude,lang:this.longitude,radius:100};this.util.presentLoading(),this.api.postData("home",t).subscribe(function(t){e.util.dismissLoading(),t.success&&(e.data=t.data,e.provider=t.data.provider,e.select=t.data.fuel_type[1].name)},function(t){e.util.dismissLoading()}),this.zoom=8,this.util.dismissLoading()}},{key:"ionViewWillEnter",value:function(){}},{key:"getDatas",value:function(e,t){var i=this,n=new FormData;this.util.dismissLoading(),n.append("lat",e),n.append("lang",t),n.append("radius","1000"),this.api.postData("home",n).subscribe(function(e){i.util.dismissLoading(),e.success&&(i.data=e.data,i.provider=e.data.provider,i.select=e.data.fuel_type[1].name)},function(e){i.util.dismissLoading()})}},{key:"handleAddressChange",value:function(e){this.util.dismissLoading(),this.latitude=e.geometry.location.lat(),this.longitude=e.geometry.location.lng(),this.getGeoencoder(this.latitude,this.longitude),localStorage.setItem("curentLat",JSON.stringify(this.latitude)),localStorage.setItem("curentLang",JSON.stringify(this.longitude)),localStorage.setItem("proLattt",JSON.stringify(this.latitude)),localStorage.setItem("proLangg",JSON.stringify(this.longitude)),localStorage.setItem("lat",JSON.stringify(this.latitude)),localStorage.setItem("lang",JSON.stringify(this.longitude)),localStorage.setItem("addressOfLast",e.formatted_address),localStorage.setItem("lat",JSON.stringify(this.latitude)),localStorage.setItem("lang",JSON.stringify(this.longitude)),this.util.dismissLoading()}},{key:"getLocationCoordinates",value:function(){var e=this;this.util.presentLoading(),this.geolocation.getCurrentPosition().then(function(t){e.util.dismissLoading(),e.locationCoords.latitude=t.coords.latitude,e.locationCoords.longitude=t.coords.longitude,e.locationCoords.accuracy=t.coords.accuracy,e.locationCoords.timestamp=t.timestamp,e.getGeoencoder(e.latitude,e.longitude),localStorage.setItem("curentLat",JSON.stringify(e.locationCoords.latitude)),localStorage.setItem("curentLang",JSON.stringify(e.locationCoords.longitude)),localStorage.setItem("proLattt",JSON.stringify(e.locationCoords.latitude)),localStorage.setItem("proLangg",JSON.stringify(e.locationCoords.longitude)),localStorage.setItem("lat",JSON.stringify(e.locationCoords.latitude)),localStorage.setItem("lang",JSON.stringify(e.locationCoords.longitude)),e.latitude=JSON.parse(e.locationCoords.latitude),e.longitude=JSON.parse(e.locationCoords.longitude),e.getDatas(e.locationCoords.latitude,e.locationCoords.longitude),e.api.lat=e.latitude,e.api.long=e.longitude,e.util.dismissLoading()}).catch(function(t){e.util.dismissLoading(),alert("Error getting location"+t)})}},{key:"getGeoencoder",value:function(e,t){var i=this;this.nativeGeocoder.reverseGeocode(e,t,this.geoencoderOptions).then(function(e){i.util.dismissLoading(),i.address=i.generateAddress(e[0]),localStorage.setItem("addressOfLast",i.address),localStorage.setItem("gene",i.address)}).catch(function(e){i.util.dismissLoading()})}},{key:"generateAddress",value:function(e){this.util.dismissLoading();var t=[],i="";for(var n in e)t.push(e[n]);for(var o in t.reverse(),t)t[o].length&&(i+=t[o]+", ");return i.slice(0,-2)}},{key:"getPointFromLongLat",value:function(e,t){return this.util.dismissLoading(),ol.proj.transform([e,t],"EPSG:4326","EPSG:3857")}},{key:"markerDragEnd",value:function(e){this.latitude=e.lat,this.util.dismissLoading()}}]),t}(),_.\u0275fac=function(e){return new(e||_)(v["\u0275\u0275directiveInject"](r.Q),v["\u0275\u0275directiveInject"](r.O),v["\u0275\u0275directiveInject"](f.a),v["\u0275\u0275directiveInject"](g.a),v["\u0275\u0275directiveInject"](d.a),v["\u0275\u0275directiveInject"](m.a),v["\u0275\u0275directiveInject"](p.a),v["\u0275\u0275directiveInject"](r.b),v["\u0275\u0275directiveInject"](y.a),v["\u0275\u0275directiveInject"](h.a))},_.\u0275cmp=v["\u0275\u0275defineComponent"]({type:_,selectors:[["app-home"]],viewQuery:function(e,t){var i;1&e&&(v["\u0275\u0275viewQuery"](O,1),v["\u0275\u0275viewQuery"](C,1)),2&e&&(v["\u0275\u0275queryRefresh"](i=v["\u0275\u0275loadQuery"]())&&(t.placesRef=i.first),v["\u0275\u0275queryRefresh"](i=v["\u0275\u0275loadQuery"]())&&(t.searchElementRef=i.first))},decls:18,vars:9,consts:[[1,"ion-no-border"],["mode","md"],["slot","start"],[3,"styles","latitude","longitude","disableDefaultUI"],[3,"latitude","longitude","iconUrl"],[1,"location_div"],[1,"loc_lbl"],[1,"input_div"],["src","../../../assets/image_icon/location.svg"],["autofocus","true","ngx-google-places-autocomplete","",3,"value","onAddressChange"],["placesref","ngx-places"],[1,"fule_type"],["class","fule",3,"active","click",4,"ngFor","ngForOf"],[1,"fule",3,"click"],["alt","","srcset","",3,"src"],[1,"fule_lbl"]],template:function(e,t){1&e&&(v["\u0275\u0275elementStart"](0,"ion-header",0),v["\u0275\u0275elementStart"](1,"ion-toolbar",1),v["\u0275\u0275elementStart"](2,"ion-buttons",2),v["\u0275\u0275element"](3,"ion-menu-button"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](4,"ion-title"),v["\u0275\u0275text"](5,"Lofuel"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](6,"ion-content"),v["\u0275\u0275elementStart"](7,"agm-map",3),v["\u0275\u0275element"](8,"agm-marker",4),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](9,"div",5),v["\u0275\u0275elementStart"](10,"h3",6),v["\u0275\u0275text"](11,"Delivery Location"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](12,"div",7),v["\u0275\u0275element"](13,"ion-icon",8),v["\u0275\u0275elementStart"](14,"input",9,10),v["\u0275\u0275listener"]("onAddressChange",function(e){return t.handleAddressChange(e)}),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](16,"div",11),v["\u0275\u0275template"](17,b,4,4,"div",12),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"]()),2&e&&(v["\u0275\u0275advance"](7),v["\u0275\u0275property"]("styles",t.styles)("latitude",t.latitude)("longitude",t.longitude)("disableDefaultUI",!0),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("latitude",t.latitude)("longitude",t.longitude)("iconUrl",t.iconUrl),v["\u0275\u0275advance"](6),v["\u0275\u0275propertyInterpolate"]("value",t.address),v["\u0275\u0275advance"](3),v["\u0275\u0275property"]("ngForOf",null==t.data?null:t.data.fuel_type))},directives:[r.p,r.K,r.h,r.w,r.I,r.k,S.b,S.c,r.q,u.GooglePlaceDirective,s.k],styles:["ion-content[_ngcontent-%COMP%]   .fule_type[_ngcontent-%COMP%]{height:128px;background-color:var(--white);border-radius:20px 20px 0 0;box-shadow:0 -1px 6px 0 rgba(0,0,0,.16);width:100%;position:absolute;bottom:0;display:flex;align-items:center;justify-content:space-around}ion-content[_ngcontent-%COMP%]   .fule_type[_ngcontent-%COMP%]   .fule[_ngcontent-%COMP%]{text-align:center;opacity:.5}ion-content[_ngcontent-%COMP%]   .fule_type[_ngcontent-%COMP%]   .fule[_ngcontent-%COMP%]   .fule_lbl[_ngcontent-%COMP%]{font-size:18px;font-family:rubik_md;color:var(--my_theme);margin-bottom:0;margin-top:5px}ion-content[_ngcontent-%COMP%]   .fule_type[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{opacity:1}ion-content[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]{height:100%;width:100%}ion-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;font-family:rubik_r;margin-left:10px;color:#fff}ion-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}"]}),_)}],L=((I=i(function t(){e(this,t)})).\u0275fac=function(e){return new(e||I)},I.\u0275mod=v["\u0275\u0275defineNgModule"]({type:I}),I.\u0275inj=v["\u0275\u0275defineInjector"]({imports:[[c.i.forChild(T)],c.i]}),I),k=o("IZFd"),w=((P=i(function t(){e(this,t)})).\u0275fac=function(e){return new(e||P)},P.\u0275mod=v["\u0275\u0275defineNgModule"]({type:P}),P.\u0275inj=v["\u0275\u0275defineInjector"]({imports:[[s.b,l.a,r.L,S.a.forRoot({apiKey:a.a.google_map_key}),k.b,L,u.GooglePlaceModule]]}),P)}}])}();